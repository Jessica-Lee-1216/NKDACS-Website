<!DOCTYPE html>
<html>
    <head>
        <script>
            var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?fefb7ff4c65399524bc151da04f6c52a";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();
        </script>
            
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta http-equiv="Content-Type" content="charset=utf-8" />
        <title>2019nCoV</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
        <link rel="icon" href="../../assets/img/icon.png" type="image/x-icon"/>
        <!-- Fonts and icons -->
        <script src="../../assets/js/plugin/webfont/webfont.min.js"></script>
        <script>
            WebFont.load({
                google: {"families":["Open+Sans:300,400,600"]},
                custom: {"families":["Font Awesome 5 Solid", "Font Awesome 5 Regular"], urls: ['../../assets/css/fonts.css']},
                active: function() {
                    sessionStorage.fonts = true;
                }
            });
        </script>
        <!-- CSS Files -->
        <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../assets/css/azzara.min.css">
    </head>
    <body>
        <div class="wrapper">
            <div class="main-header" data-background-color="purple">
                <!-- Logo Header -->
                <div class="logo-header">
                    <a href="../index.html" class="logo">
                        <img src="../../assets/img/logonkdacs.svg" alt="navbar brand" class="navbar-brand">
                    </a>
                    <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon">
                            <i class="fa fa-bars"></i>
                        </span>
                    </button>
                    <button class="topbar-toggler more">
                        <i class="fa fa-ellipsis-v"></i>
                    </button>
                    <div class="navbar-minimize">
                        <button class="btn btn-minimize btn-rounded">
                            <i class="fa fa-bars"></i>
                        </button>
                    </div>
                </div>
                <!-- Navbar Header -->
                <nav class="navbar navbar-header navbar-expand-lg">
                    <div class="container-fluid">
                        <ul class="navbar-nav topbar-nav ml-md-auto align-items-center">
                            <li class="nav-item dropdown hidden-caret">
                                <a class="nav-link dropdown-toggle" href="#" id="messageDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-info"></i>
                                </a>
                                <ul class="dropdown-menu animated fadeIn" aria-labelledby="infoDropdown">
                                    <li>
                                        <div class="dropdown-item">
                                            <h5 style="text-align:center;margin:0;">NKDACS数据可视化</h5>
                                        </div>
                                        <div class="dropdown-divider"></div>
                                        <div class="dropdown-item">
                                            <p class="text-muted" style="text-align:center;text-indent:0;font-size:14px;margin:0;">陈笑洋 张宸玥 王玉珏 刘城昕 马佳明</p>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown hidden-caret">
                                <a class="dropdown-toggle profile-pic" data-toggle="dropdown" href="#" aria-expanded="false">
                                    <div class="avatar-sm">
                                        <img src="../../assets/img/nankai.jpg" alt="..." class="avatar-img rounded-circle">
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="sidebar-background"></div>
                <div class="sidebar-wrapper scrollbar-inner">
                    <div class="sidebar-content">
                        <div class="user">
                                <div class="avatar">
                                <img src="../../assets/img/nankai_.png">
                                </div>
                        </div>
                        <ul class="nav">
                            <li class="nav-item">
                                <a href="../index.html">
                                    <i class="fas fa-home"></i>
                                    <p>项目介绍</p>
                                </a>
                            </li>
                            <li class="nav-item active">
                                <a data-toggle="collapse" href="#charts">
                                    <i class="fas fa-chart-bar"></i>
                                    <p>疫情发展</p>
                                    <span class="caret"></span>
                                </a>
                                <div class="collapse show" id="charts">
                                    <ul class="nav nav-collapse">
                                        <li class="active">
                                            <a href="predict.html">
                                                <span class="sub-item">疫情发展预测</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="review.html">
                                               <span class="sub-item">疫情发展回顾</span> 
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Main Panel -->
            <div class="main-panel">
                <div class="content">
                    <div class="page-inner">
                        <div class="row">
                            <div class="col-md-6 ml-auto mr-auto" style="padding:0 2.5%;">
                                <div class="page-header">
                                    <h4 class="page-title">疫情发展预测</h4>
                                </div>
                                <p>基于传播动力学及黄森忠博士建构的普适SEIR模型，运用“南开大学智英健康数据研究中心”开发的程序EpiSIX，我们对2019-nCoV新型冠状病毒数据做出疫情发展及至今疾控效率的研判。我们利用国家卫健委公布的从2019.12.12至2020.2.22的被确诊病例总数的数据链，着重研究了武汉市、 湖北省、全国和几个特殊地区的疫情发展，做出如下三天的区间预测。</p>
                                <div class="c">
                                    <p style="text-indent:0;font-size:18px"><i class="fas fa-chevron-right" style="margin-right:5px;"></i>新冠肺炎确诊病例数时序区间预测图</p>
                                    <div class="c-height">
                                        <div class="chart" id="mainPredict"></div>
                                    </div>
                                    <div class="nav-item">
                                        <p>其他省市预测图，点击左侧按钮，可切换不同省市</p>
                                        <select class="selectpicker" id="dropdown" style="width:100px;">
                                            <option value=0 selected="">北京</option>
                                            <option value=1 >广东</option>
                                            <option value=2>上海</option>
                                            <option value=3>浙江</option>
                                            <option value=4>天津</option>
                                            <option value=5>河南</option>
                                            <option value=6>重庆</option>
                                            <option value=7>四川</option>
                                            <option value=8>山东</option>
                                            <option value=9>云南</option>
                                            <option value=10>湖南</option>
                                            <option value=11>江西</option>
                                            <option value=12>辽宁</option>
                                            <option value=13>海南</option>
                                            <option value=14>安徽</option>
                                            <option value=15>福建</option>
                                            <option value=16>贵州</option>
                                            <option value=17>山西</option>
                                            <option value=18>宁夏</option>
                                            <option value=19>广西</option>
                                            <option value=20>河北</option>
                                            <option value=21>黑龙江</option>
                                            <option value=22>江苏</option>
                                            <option value=23>吉林</option>
                                            <option value=24>内蒙古</option>
                                            <option value=25>陕西</option>
                                            <option value=26>新疆</option>
                                            <option value=27>甘肃</option>

                                        </select>
                                    </div>
                                    <div class="c-height">
                                        <div class="chart" id="extraPredict"></div>
                                </div>
                                </div>
                            </br>
                                <div class="c">
                                    <p style="text-indent:0;font-size:18px"><i class="fas fa-chevron-right" style="margin-right:5px;"}></i>新冠肺炎新增治愈/新增确诊比值时序图</p>
                                    <div class="c-height">
                                        <div class="chart" id="addminutt"></div>
                                    </div>
                                </div>
                            </br>
                                <div class="c">
                                    <p style="text-indent:0;font-size:18px"><i class="fas fa-chevron-right" style="margin-right:5px;"></i>新冠肺炎累计确诊增长率时序图</p>
                                    <div class="c-height">
                                        <div class="chart" id="add"></div>
                                    </div>
                                    <div class="card">
                                        <div class="card-body">
                                            <p style="margin:0;"> 总体结论: 大部分都落在预测区间内，但有少数几个偏离预测区间下界较多(10%左右)。另外，因为在2月20日出现山东任城监狱200个密集型的感染现象，所以山东省的预测和实际数据就出现一个较大的偏移(但若减去这突增的200个，则预测实际数据还是在的预测区间附近的)。总体上，这说明全国各地，每天确诊的实际数据均在下坡，是疫情处于受控状态的特征。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a href="../charts/review.html">
                                <button class="btn btn-secondary">疫情发展回顾</button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--   Core JS Files   -->
        <script src="../../assets/js/core/jquery.3.2.1.min.js"></script>
        <script src="../../assets/js/core/popper.min.js"></script>
        <script src="../../assets/js/core/bootstrap.min.js"></script>
        <!-- jQuery UI -->
        <script src="../../assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
        <script src="../../assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>
        <!-- Chart JS -->
        <script src="../../assets/js/plugin/chart.js/chart.min.js"></script>
        <!-- jQuery Scrollbar -->
        <script src="../../assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
        <!-- Azzara JS -->
        <script src="../../assets/js/ready.min.js"></script>
        <!-- echart JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.6.0/echarts-en.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.6.0/echarts-en.common.js"></script>
       
        <!-- Import Data -->
        <script type="text/javascript">
            function dataJson(fileData) {
                data = fileData;
            }
        </script>
        <script type="text/javascript" src="./data.json?cb=dataJson"></script>
        <!-- Process Data -->
        <script type="text/javascript">
            dateReal=[];dateWithPredict=[];total=[];hubei=[];wuhan=[];zhejiang=[];others=[];jjj=[];totalDelta=[];totalLow=[];hubeiDelta=[];hubeiLow=[];wuhanDelta=[];wuhanLow=[];othersDelta=[];othersLow=[];zhejiangDelta=[];zhejiangLow=[];jjjDelta=[];jjjLow=[];
            function addData(date,r0,r1,r2,r3,r4,r5,p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12){ 
                dateWithPredict.push(date);
                total.push(r0);
                hubei.push(r1);
                wuhan.push(r2);
                others.push(r3);
                zhejiang.push(r4);
                jjj.push(r5);
                othersDelta.push(p1-p2);
                othersLow.push(p2);
                zhejiangDelta.push(p3-p4);
                zhejiangLow.push(p4);
                jjjDelta.push(p5-p6);
                jjjLow.push(p6);
                totalDelta.push(p7-p8);
                totalLow.push(p8);
                hubeiDelta.push(p9-p10);
                hubeiLow.push(p10);
                wuhanDelta.push(p11-p12);
                wuhanLow.push(p12);
            };
            delta = 9;
            n = 0;
            rdays = data["real"].length;
            pdays = data["predictive"].length;
            for (i = pdays-1; i > -1; i--) {
                if (data["real"][rdays-delta]["date"] == data["predictive"][i]["date"]){n = i;break;}
            };
            for (i = 0; i < rdays+pdays-n-delta; i++) {
                if (i < rdays-delta) {
                    addData(data["real"][i]["date"],
                    data["real"][i]["diagnosis"],data["real"][i]["hubei"],data["real"][i]["wuhan"],
                    data["real"][i]["qita"],data["real"][i]["zhejiang"],data["real"][i]["jjj"],
                    '_','_','_','_','_','_','_','_','_','_','_','_');
                } else if (i < rdays) {
                    j = i+delta-rdays+n;
                    addData(data["real"][i]["date"],
                    data["real"][i]["diagnosis"],data["real"][i]["hubei"],data["real"][i]["wuhan"],
                    data["real"][i]["qita"],data["real"][i]["zhejiang"],data["real"][i]["jjj"],
                    data["predictive"][j]["qitashang"],data["predictive"][j]["qitaxia"],
                    data["predictive"][j]["zhejiangshang"],data["predictive"][j]["zhejiangxia"],
                    data["predictive"][j]["jjjshang"],data["predictive"][j]["jjjxia"],
                    data["predictive"][j]["quanguoshang"],data["predictive"][j]["quanguoxia"],
                    data["predictive"][j]["hubeishang"],data["predictive"][j]["hubeixia"],
                    data["predictive"][j]["wuhanshang"],data["predictive"][j]["wuhanxia"]);
                } else {
                    j = i+delta-rdays+n;
                    addData(data["predictive"][j]["date"],
                    '_','_','_','_','_','_',
                    data["predictive"][j]["qitashang"],data["predictive"][j]["qitaxia"],
                    data["predictive"][j]["zhejiangshang"],data["predictive"][j]["zhejiangxia"],
                    data["predictive"][j]["jjjshang"],data["predictive"][j]["jjjxia"],
                    data["predictive"][j]["quanguoshang"],data["predictive"][j]["quanguoxia"],
                    data["predictive"][j]["hubeishang"],data["predictive"][j]["hubeixia"],
                    data["predictive"][j]["wuhanshang"],data["predictive"][j]["wuhanxia"]);
                }
            };
            
            lineX = []; lineY1 = [];lineY2 = [];lineY3 = []; var a=0;
            for (i = 0; i < rdays; i++) {
                lineX.push(data["real"][i]["date"]);
                a=(data["real"][i]["diagnosis"]-data["real"][(i-1<0)?0:i-1]["diagnosis"])/data["real"][(i-1<0)?0:i-1]["diagnosis"];
                lineY1.push(a.toFixed(2));
                a=(data["real"][i]["hubei"]-data["real"][(i-1<0)?0:i-1]["hubei"])/data["real"][(i-1<0)?0:i-1]["hubei"];
                lineY2.push(a.toFixed(2));
                a=(data["real"][i]["wuhan"]-data["real"][(i-1<0)?0:i-1]["wuhan"])/data["real"][(i-1<0)?0:i-1]["wuhan"];
                lineY3.push(a.toFixed(2));
            }
            
            addminut=[];addminuthubei=[];addminutothers=[];
            for (i = 0; i < rdays; i++) {
                a=data["real"][i]["add-cure"]/data["real"][i]["add"];
                addminut.push(a.toFixed(2));
                a=data["real"][i]["add-cure-hubei"]/data["real"][i]["add-hubei"];
                addminuthubei.push(a.toFixed(2));
                a=data["real"][i]["add-cure-qita"]/data["real"][i]["add-qita"];
               addminutothers.push(a.toFixed(2));
            }


        </script>
        <!-- select -->
        <script type="text/javascript">
            choose=["北京","广东","上海","浙江","天津","河南","重庆","四川","山东","云南","湖南","江西","辽宁","海南","安徽","福建","贵州","山西","宁夏","广西","河北","黑龙江","江苏","吉林","内蒙古","陕西","新疆","甘肃"];
            choosereal=["beijing","guangdong","shanghai","zhejiang","tianjin","henan","chongqing","sichuan","shandong","yunnan","hunan","jiangxi","liaoning","hainan","anhui","fujian","guizhou","shan1xi","ningxia","guangxi","hebei","heilongjiang","jiangsu","jilin","neimenggu","shan3xi","xinjiang","gansu"];
            chooseshang=["beijingshang","guangdongshang","shanghaishang","zhejiangshang","tianjinshang","henanshang","chongqingshang","sichuanshang","shandongshang","yunnanshang","hunanshang","jiangxishang","liaoningshang","hainanshang","anhuishang","fujianshang","guizhoushang","shan1xishang","ningxiashang","guangxishang","hebeishang","heilongjiangshang","jiangsushang","jilinshang","neimenggushang","shan3xishang",
            "xinjiangshang","gansushang"];
            choosexia=["beijingxia","guangdongxia","shanghaixia","zhejiangxia","tianjinxia","henanxia","chongqingxia","sichuanxia","shandongxia","yunnanxia","hunanxia","jiangxixia","liaoningxia","hainanxia","anhuixia","fujianxia","guizhouxia","shan1xixia","ningxiaxia","guangxixia","hebeixia","heilongjiangxia","jiangsuxia","jilinxia","neimengguxia","shan3xixia","xinjiangxia","gansuxia"];

            var myChart;
            function selectChart(n){
                shengfen=choose[n];
                NN=0;
                for (var i = 0; i < choose.length; i++) {
                    if(choose[i]==shengfen){
                        NN=i
                    }
                }
                    function addDatachoose(date,r,pup,plow){ 
                        totalchoose.push(r);
                        totalDeltachoose.push(pup-plow);
                        totalLowchoose.push(plow);
                    };
                    delta = 4;
                    n = 0;
                    rdays = data["real"].length;
                    pdays = data["predictive"].length;
                    for (i = pdays-1; i > -1; i--) {
                        if (data["real"][rdays-delta]["date"] == data["predictive"][i]["date"]){n = i;break;}
                    };
                    function addDataN(N){
                        totalchoose=[];totalDeltachoose=[];totalLowchoose=[];
                        for (i = 0; i < rdays+pdays-n-delta; i++) {
                            if (i < rdays-delta) {
                                addDatachoose(data["real"][i]["date"],
                                data["real"][i][choosereal[N]],
                                '_','_');
                            } else if (i < rdays) {
                                j = i+delta-rdays+n;
                                addDatachoose(data["real"][i]["date"],
                                data["real"][i][choosereal[N]],
                                data["predictive"][j][chooseshang[N]],data["predictive"][j][choosexia[N]]);
                            } else {
                                j = i+delta-rdays+n;
                                addDatachoose(data["predictive"][j]["date"],
                                '_',
                                data["predictive"][j][chooseshang[N]],data["predictive"][j][choosexia[N]]);
                            }
                        }
                    }
                    addDataN(NN);
                    //if (myChart != null && myChart != "" && myChart != undefined) {myChart.dispose();}
                    myChart = echarts.init(document.getElementById('extraPredict'));
                    option = {
                        backgroundColor: 'transparent',
                        legend: {
                            right: '5%',
                            data: [shengfen]
                        },
                        grid: {
                            left: 0,
                            right: 15,
                            top: '15%',
                            bottom: '10%',
                            containLabel: true
                        },
                        tooltip: {
                            trigger: 'axis',
                            formatter: function(params) {
                                res=params[0].name+'<br>';
                                for (i=0;i<params.length/3;i++) {
                                    res+=params[3*i].seriesName+': '+params[3*i].value+'<br>';
                                    lower=params[3*i+1].value;
                                    upper=(isNaN(params[3*i+2].value))?'_':lower+params[3*i+2].value;
                                    res+=params[3*i+1].seriesName+'预测区间: ['+lower+', '+upper+']<br>';
                                };
                                return res
                            }
                        },
                        series: [
                            {   name: shengfen,
                                type: 'line',
                                symbolSize: 4,
                                symbol: 'rect',
                                itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:2},
                                data: totalchoose
                            },
                            {   name: shengfen, //下界
                                type: 'line',
                                data: totalLowchoose,
                                stack: '预测',
                                itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:1},
                                lineStyle: {opacity: 0}
                            },
                            {   name: shengfen, //区间长度
                                type: 'line',
                                data: totalDeltachoose,
                                stack: '预测',
                                itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:1},
                                lineStyle: {opacity: 0},
                                areaStyle: {color: '#FFE9EE',opacity: 0.8}
                            }
                        ],
                        xAxis: {
                            type: 'category',
                            boundaryGap: false,
                            axisTick: {
                                show: false
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#566573'
                                }
                            },
                            axisLabel: {
                                fontSize: 11
                            },
                            data: dateWithPredict
                        },
                        yAxis: {
                            name:"病例数",
                            type: 'value',
                            nameTextStyle: {
                                verticalAlign: 'middle'
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#566573'
                                }
                            },
                            axisLabel: {
                                fontSize: 8.5,
                                rotate:60
                            },
                            scale: true
                        },
                        dataZoom: {
                            type: 'slider',
                            xAxisIndex: [0],
                            height: '6%',
                            bottom: '2%',
                            start: 50,
                            end: 100,
                            showDetail: false,
                            handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                            borderColor: '#90979c'
                        }
                    };
                    myChart.setOption(option);
            }
            selectChart(0);
        </script>
        <script type="text/javascript">
            var myChart1 = echarts.init(document.getElementById('mainPredict'));
            var myChart3 = echarts.init(document.getElementById('addminutt'));
            var myChart4 = echarts.init(document.getElementById('add'));
            option1 = {
                backgroundColor: 'transparent',
                legend: {
                    right: '5%',
                    data: ['全国','湖北','武汉']
                },
                grid: {
                    left: 0,
                    right: 15,
                    top: '15%',
                    bottom: '10%',
                    containLabel: true
                },
                tooltip: {
                    trigger: 'axis',
                    formatter: function(params) {
                        res=params[0].name+'<br>';
                        for (i=0;i<params.length/3;i++) {
                            res+=params[3*i].seriesName+': '+params[3*i].value+'<br>';
                            lower=params[3*i+1].value;
                            upper=(isNaN(params[3*i+2].value))?'_':lower+params[3*i+2].value;
                            res+=params[3*i+1].seriesName+'预测区间: ['+lower+', '+upper+']<br>';
                        };
                        return res
                    }
                },
                series: [
                    {   name: '全国',
                        type: 'line',
                        symbolSize: 4,
                        symbol: 'rect',
                        itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:2},
                        data: total
                    },
                    {   name: '全国', //下界
                        type: 'line',
                        data: totalLow,
                        stack: '全国预测',
                        itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0}
                    },
                    {   name: '全国', //区间长度
                        type: 'line',
                        data: totalDelta,
                        stack: '全国预测',
                        itemStyle: {color:'rgba(255,37,117,0.7)',borderColor:'rgba(255,37,117,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0},
                        areaStyle: {color: '#FFE9EE',opacity: 0.8}
                    },
                    {   name: '湖北',
                        type: 'line',
                        symbolSize: 4,
                        symbol: 'rect',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:2},
                        data: hubei
                    },
                    {   name: '湖北', //下界
                        type: 'line',
                        data: hubeiLow,
                        stack: '湖北预测',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0}
                    },
                    {   name: '湖北', //区间长度
                        type: 'line',
                        data: hubeiDelta,
                        stack: '湖北预测',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0},
                        areaStyle: {color: '#E7FAFA',opacity: 0.8}
                    },
                    {   name: '武汉',
                        type: 'line',
                        symbolSize: 4,
                        symbol: 'rect',
                        itemStyle: {color:'rgba(255,170,0,0.7)',borderColor:'rgba(255,170,0,0.5)',borderWidth:2},
                        data: wuhan
                    },
                    {   name: '武汉', //下界
                        type: 'line',
                        data: wuhanLow,
                        stack: '武汉预测',
                        itemStyle: {color:'rgba(255,170,0,0.7)',borderColor:'rgba(255,170,0,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0}
                    },
                    {   name: '武汉', //区间长度
                        type: 'line',
                        data: wuhanDelta,
                        stack: '武汉预测',
                        itemStyle: {color:'rgba(255,170,0,0.7)',borderColor:'rgba(255,170,0,0.5)',borderWidth:1},
                        lineStyle: {opacity: 0},
                        areaStyle: {color: '#FFF3B2',opacity: 0.8}
                    }
                ],
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    axisTick: {
                        show: false
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 11
                    },
                    data: dateWithPredict
                },
                yAxis: {
                    name:"病例数",
                    type: 'value',
                    nameTextStyle: {
                        verticalAlign: 'middle'
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 8.5,
                        rotate:60
                    },
                    scale: true
                },
                dataZoom: {
                    type: 'slider',
                    xAxisIndex: [0],
                    height: '6%',
                    bottom: '2%',
                    start: 50,
                    end: 100,
                    showDetail: false,
                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                    borderColor: '#90979c'
                }
            };
            option2 = {
                backgroundColor: 'transparent',
                legend: {
                    right: '5%',
                    data: ['浙江']
                },              
                grid: {
                    left: 0,
                    right: 15,
                    top: '15%',
                    bottom: '10%',
                    containLabel: true
                },
                tooltip: {
                    trigger: 'axis',
                    formatter: function(params) {
                        res=params[0].name+'<br>';
                        for (i=0;i<params.length/3;i++) {
                            res+=params[3*i].seriesName+': '+params[3*i].value+'<br>';
                            lower=params[3*i+1].value;
                            upper=(isNaN(params[3*i+2].value))?'_':lower+params[3*i+2].value;
                            res+=params[3*i+1].seriesName+'预测区间: ['+lower+', '+upper+']<br>';
                        };
                        return res
                    }
                },
                series: [
                    {   name: '浙江',
                        type: 'line',
                        symbolSize: 4,
                        symbol: 'rect',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:2},
                        data: zhejiang
                    },
                    {   name: '浙江', //下界
                        type: 'line',
                        data: zhejiangLow,
                        stack: '浙江预测',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:2},
                        lineStyle: {opacity: 0}
                    },
                    {   name: '浙江', //区间长度
                        type: 'line',
                        data: zhejiangDelta,
                        stack: '浙江预测',
                        itemStyle: {color:'rgba(0,133,245,0.7)',borderColor:'rgba(0,133,245,0.5)',borderWidth:2},
                        lineStyle: {opacity: 0},
                        areaStyle: {color: '#E7FAFA',opacity: 0.8}
                    }
                ],
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    axisTick: {
                        show: false
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 11
                    },
                    data: dateWithPredict
                },
                yAxis: {
                    name:"病例数",
                    type: 'value',
                    nameTextStyle: {
                        verticalAlign: 'middle'
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 8.5,
                        rotate:60
                    },
                    scale: true
                },

                dataZoom: {
                    type: 'slider',
                    xAxisIndex: [0],
                    height: '6%',
                    bottom: '2%',
                    start: 50,
                    end: 100,
                    showDetail: false,
                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                    borderColor: '#90979c'
                }
            };
            option3 = {
                backgroundColor:'transparent',

                legend: {
                        data: ['全国', '湖北','湖北以外全国各地'],
                        right: '5%',
                        
                    },
                title: {
                    text: '',
                    subtext: '',
                    x: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                grid: {
                    left: 0,
                    right: 15,
                    top: '15%',
                    bottom: '10%',
                    containLabel: true
                },
                
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    axisTick: {
                        show: false
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 11,
                        formatter: function(params) {
                            return params.split(' ')[0] 
                        }
                    },
                    data: lineX,
                },
             
                yAxis: {
                    name: "指标",
                    type: 'value',
                    nameTextStyle: {
                        verticalAlign: 'middle'
                    },
                    axisLabel: {
                        formatter: '{value}',
                        fontSize: 11,
                        
                    },
                   
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    scale: true
                },
               dataZoom: {
                    type: 'slider',
                    xAxisIndex: [0],
                    height: '6%',
                    bottom: '2%',
                    start: 50,
                    end: 100,
                    showDetail: false,
                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                    borderColor: '#90979c'
                },
                series: [{
                    name: '全国',
                    type: 'line',
                    color: 'rgba(255,37,117)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(255,37,117,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(255,37,117,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: addminut
                },{
                    name: '湖北',
                    type: 'line',
                    color: 'rgba(0,133,245)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(0,133,245,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(0,133,245,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: addminuthubei
                },{
                    name: '湖北以外全国各地',
                    type: 'line',
                    color: 'rgba(255,170,0)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(255,170,0,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(255,170,0,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: addminutothers
                }]
            };
            option4 = {
                backgroundColor:'transparent',
                legend: {
                        data: ['全国', '湖北','武汉'],
                        right: '5%',
                        
                    },
                title: {
                    text: '',
                    subtext: '',
                    x: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
               grid: {
                    left: 0,
                    right: 15,
                    top: '15%',
                    bottom: '10%',
                    containLabel: true
                },
               
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: lineX,
                    axisTick: {
                        show: false
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },
                    axisLabel: {
                        fontSize: 11,
                        formatter: function(params) {
                            return params.split(' ')[0] 
                        }
                    },
                },
                 
                yAxis: {
                    name: "增长率",
                    type: 'value',
                     nameTextStyle: {
                        verticalAlign: 'middle'
                    },
                    axisLabel: {
                        formatter: '{value}',
                        fontSize: 11,
                       
                    },
                    
                    axisLine: {
                        lineStyle: {
                            color: '#566573'
                        }
                    },

                    scale: true

                },


              dataZoom: {
                    type: 'slider',
                    xAxisIndex: [0],
                    height: '6%',
                    bottom: '2%',
                    start: 50,
                    end: 100,
                    showDetail: false,
                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                    borderColor: '#90979c'
                },
                series: [{
                    name: '全国',
                    type: 'line',
                    color: 'rgba(255,37,117)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(255,37,117,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(255,37,117,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: lineY1
                },{
                    name: '湖北',
                    type: 'line',
                    color: 'rgba(0,133,245)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(0,133,245,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(0,133,245,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: lineY2
                },{
                    name: '武汉',
                    type: 'line',
                    color: 'rgba(255,170,0)',
                    smooth: true,
                    areaStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(255,170,0,0.3)'
                            }, {
                                offset: 0.8,
                                color: 'rgba(255,170,0,0)'
                            }], false),
                            shadowColor: 'rgba(0, 0, 0, 0.1)',
                            shadowBlur: 10
                        }
                    },
                    symbol: 'circle',
                    symbolSize: 5,
                    data: lineY3
                }]
            };
            myChart1.setOption(option1);
            myChart3.setOption(option3);
            myChart4.setOption(option4);
            charts = [myChart1,myChart,myChart3,myChart4];
            $(window).resize(function(){
                for(var i = 0; i < charts.length; i++) {
                    charts[i].resize();
                }
            });
            select=document.getElementById("dropdown");
            select.onchange=function(){
                selectChart(select.value);
            }
        </script>
        
    </body>
</html> 
